[debug] [2024-07-21T04:02:25.745Z] ----------------------------------------------------------------------
[debug] [2024-07-21T04:02:25.746Z] Command:       /opt/homebrew/Cellar/node@20/20.15.1/bin/node /opt/homebrew/bin/firebase deploy
[debug] [2024-07-21T04:02:25.747Z] CLI Version:   13.13.3
[debug] [2024-07-21T04:02:25.747Z] Platform:      darwin
[debug] [2024-07-21T04:02:25.747Z] Node Version:  v20.15.1
[debug] [2024-07-21T04:02:25.747Z] Time:          Sat Jul 20 2024 21:02:25 GMT-0700 (Pacific Daylight Time)
[debug] [2024-07-21T04:02:25.747Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-07-21T04:02:25.785Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-07-21T04:02:25.785Z] > authorizing via signed-in user (jinpyo.kim@gmail.com)
[debug] [2024-07-21T04:02:25.785Z] [iam] checking project nextjs-db-100 for permissions ["firebase.projects.get","firebasehosting.sites.update"]
[debug] [2024-07-21T04:02:25.788Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/nextjs-db-100:testIamPermissions [none]
[debug] [2024-07-21T04:02:25.789Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/nextjs-db-100:testIamPermissions x-goog-quota-user=projects/nextjs-db-100
[debug] [2024-07-21T04:02:25.789Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/nextjs-db-100:testIamPermissions {"permissions":["firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2024-07-21T04:02:26.041Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/nextjs-db-100:testIamPermissions 200
[debug] [2024-07-21T04:02:26.041Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/nextjs-db-100:testIamPermissions {"permissions":["firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2024-07-21T04:02:26.042Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/nextjs-db-100 [none]
[debug] [2024-07-21T04:02:26.269Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/nextjs-db-100 200
[debug] [2024-07-21T04:02:26.269Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/nextjs-db-100 {"projectId":"nextjs-db-100","projectNumber":"628794092372","displayName":"nextjs-db-100","name":"projects/nextjs-db-100","resources":{"hostingSite":"nextjs-db-100"},"state":"ACTIVE","etag":"1_1561c064-d177-4170-8a16-9126851223d1"}
[info] 
   Thank you for trying our early preview of Next.js support on Firebase Hosting.
   During the preview, support is best-effort and breaking changes can be expected. Proceed with caution.
   The integration is known to work with Next.js version 12 - 14.0. You may encounter errors.

   Documentation: https://firebase.google.com/docs/hosting/frameworks/nextjs
   File a bug: https://github.com/firebase/firebase-tools/issues/new?template=bug_report.md
   Submit a feature request: https://github.com/firebase/firebase-tools/issues/new?template=feature_request.md

   We'd love to learn from you. Express your interest in helping us shape the future of Firebase Hosting: https://goo.gle/41enW5X

[debug] [2024-07-21T04:02:29.070Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/nextjs-db-100/sites/nextjs-db-100 [none]
[debug] [2024-07-21T04:02:29.725Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/nextjs-db-100/sites/nextjs-db-100 200
[debug] [2024-07-21T04:02:29.725Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/nextjs-db-100/sites/nextjs-db-100 {"name":"projects/nextjs-db-100/sites/nextjs-db-100","defaultUrl":"https://nextjs-db-100.web.app","type":"DEFAULT_SITE"}
[info]   ▲ Next.js 15.0.0-canary.56

[info] 

[info]    Creating an optimized production build ...

[info]  ✓ Compiled successfully

[info]    Linting and checking validity of types ...

[info]    Collecting page data ...

[info]    Generating static pages (0/5) ...

[info]    Generating static pages (1/5) 

[info]    Generating static pages (2/5) 

[info]    Generating static pages (3/5) 
 ✓ Generating static pages (5/5)

[info]    Finalizing page optimization ...

[info]    Collecting build traces ...

[info] 

[info] Route (app)                              Size     First Load JS
┌ ○ /                                    13.3 kB         103 kB
├ ○ /_not-found                          898 B          90.5 kB
└ ƒ /seed                                0 B                0 B
+ First Load JS shared by all            89.6 kB
  ├ chunks/2285d118-ba287ec4b51b518f.js  51.7 kB
  ├ chunks/307-25549a2dce304b3e.js       36.1 kB
  └ other shared chunks (total)          1.87 kB


[info] 
○  (Static)   prerendered as static content
ƒ  (Dynamic)  server-rendered on demand


[info] Building a Cloud Function to run this application. This is needed due to:
[info]  • Image Optimization
[info]  • non-static component /seed/route
[info] 
[debug] [2024-07-21T04:02:48.343Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/nextjs-db-100/sites/nextjs-db-100 [none]
[debug] [2024-07-21T04:02:48.877Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/nextjs-db-100/sites/nextjs-db-100 200
[debug] [2024-07-21T04:02:48.877Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/nextjs-db-100/sites/nextjs-db-100 {"name":"projects/nextjs-db-100/sites/nextjs-db-100","defaultUrl":"https://nextjs-db-100.web.app","type":"DEFAULT_SITE"}
[debug] [2024-07-21T04:02:49.590Z] Error: Command failed: npm i --omit dev --no-audit
    at genericNodeError (node:internal/errors:984:15)
    at wrappedFn (node:internal/errors:538:14)
    at checkExecSyncError (node:child_process:890:11)
    at execSync (node:child_process:962:15)
    at prepareFrameworks (/opt/homebrew/lib/node_modules/firebase-tools/lib/frameworks/index.js:371:42)
    at async deploy (/opt/homebrew/lib/node_modules/firebase-tools/lib/deploy/index.js:57:13)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-07-21T16:48:44.731Z] ----------------------------------------------------------------------
[debug] [2024-07-21T16:48:44.736Z] Command:       /opt/homebrew/Cellar/node@20/20.15.1/bin/node /opt/homebrew/bin/firebase deploy
[debug] [2024-07-21T16:48:44.736Z] CLI Version:   13.13.3
[debug] [2024-07-21T16:48:44.736Z] Platform:      darwin
[debug] [2024-07-21T16:48:44.736Z] Node Version:  v20.15.1
[debug] [2024-07-21T16:48:44.737Z] Time:          Sun Jul 21 2024 09:48:44 GMT-0700 (Pacific Daylight Time)
[debug] [2024-07-21T16:48:44.737Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-07-21T16:48:44.775Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-07-21T16:48:44.775Z] > authorizing via signed-in user (jinpyo.kim@gmail.com)
[debug] [2024-07-21T16:48:44.775Z] [iam] checking project nextjs-db-100 for permissions ["firebase.projects.get","firebasehosting.sites.update"]
[debug] [2024-07-21T16:48:44.776Z] > refreshing access token with scopes: []
[debug] [2024-07-21T16:48:44.777Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2024-07-21T16:48:44.777Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-07-21T16:48:45.005Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2024-07-21T16:48:45.005Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-07-21T16:48:45.019Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/nextjs-db-100:testIamPermissions [none]
[debug] [2024-07-21T16:48:45.019Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/nextjs-db-100:testIamPermissions x-goog-quota-user=projects/nextjs-db-100
[debug] [2024-07-21T16:48:45.019Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/nextjs-db-100:testIamPermissions {"permissions":["firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2024-07-21T16:48:45.304Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/nextjs-db-100:testIamPermissions 200
[debug] [2024-07-21T16:48:45.304Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/nextjs-db-100:testIamPermissions {"permissions":["firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2024-07-21T16:48:45.306Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/nextjs-db-100 [none]
[debug] [2024-07-21T16:48:45.806Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/nextjs-db-100 200
[debug] [2024-07-21T16:48:45.806Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/nextjs-db-100 {"projectId":"nextjs-db-100","projectNumber":"628794092372","displayName":"nextjs-db-100","name":"projects/nextjs-db-100","resources":{"hostingSite":"nextjs-db-100"},"state":"ACTIVE","etag":"1_1561c064-d177-4170-8a16-9126851223d1"}
[info] 
   Thank you for trying our early preview of Next.js support on Firebase Hosting.
   During the preview, support is best-effort and breaking changes can be expected. Proceed with caution.
   The integration is known to work with Next.js version 12 - 14.0. You may encounter errors.

   Documentation: https://firebase.google.com/docs/hosting/frameworks/nextjs
   File a bug: https://github.com/firebase/firebase-tools/issues/new?template=bug_report.md
   Submit a feature request: https://github.com/firebase/firebase-tools/issues/new?template=feature_request.md

   We'd love to learn from you. Express your interest in helping us shape the future of Firebase Hosting: https://goo.gle/41enW5X

[debug] [2024-07-21T16:48:48.814Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/nextjs-db-100/sites/nextjs-db-100 [none]
[debug] [2024-07-21T16:48:49.334Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/nextjs-db-100/sites/nextjs-db-100 200
[debug] [2024-07-21T16:48:49.334Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/nextjs-db-100/sites/nextjs-db-100 {"name":"projects/nextjs-db-100/sites/nextjs-db-100","defaultUrl":"https://nextjs-db-100.web.app","type":"DEFAULT_SITE"}
[info]   ▲ Next.js 15.0.0-canary.56

[info] 

[info]    Creating an optimized production build ...

[info]  ✓ Compiled successfully

[info]    Linting and checking validity of types ...

[info]    Collecting page data ...

[info]    Generating static pages (0/8) ...

[info]    Generating static pages (2/8) 

[info]    Generating static pages (4/8) 

[info]    Generating static pages (6/8) 

[info]  ✓ Generating static pages (8/8)

[info]    Finalizing page optimization ...

[info]    Collecting build traces ...

[info] 

[info] Route (app)                              Size     First Load JS
┌ ○ /                                    5.22 kB         104 kB
├ ○ /_not-found                          898 B          90.5 kB
├ ○ /dashboard                           143 B          89.8 kB
├ ○ /dashboard/customers                 143 B          89.8 kB
├ ○ /dashboard/invoices                  143 B          89.8 kB
└ ƒ /seed                                0 B                0 B
+ First Load JS shared by all            89.6 kB
  ├ chunks/2285d118-ba287ec4b51b518f.js  51.7 kB
  ├ chunks/307-25549a2dce304b3e.js       36.1 kB
  └ other shared chunks (total)          1.87 kB


[info] 

[info] ○  (Static)   prerendered as static content
ƒ  (Dynamic)  server-rendered on demand


[info] Building a Cloud Function to run this application. This is needed due to:
[info]  • Image Optimization
[info]  • non-static component /seed/route
[info] 
[debug] [2024-07-21T16:49:08.753Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/nextjs-db-100/sites/nextjs-db-100 [none]
[debug] [2024-07-21T16:49:09.253Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/nextjs-db-100/sites/nextjs-db-100 200
[debug] [2024-07-21T16:49:09.254Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/nextjs-db-100/sites/nextjs-db-100 {"name":"projects/nextjs-db-100/sites/nextjs-db-100","defaultUrl":"https://nextjs-db-100.web.app","type":"DEFAULT_SITE"}
[debug] [2024-07-21T16:49:10.253Z] Error: Command failed: npm i --omit dev --no-audit
    at genericNodeError (node:internal/errors:984:15)
    at wrappedFn (node:internal/errors:538:14)
    at checkExecSyncError (node:child_process:890:11)
    at execSync (node:child_process:962:15)
    at prepareFrameworks (/opt/homebrew/lib/node_modules/firebase-tools/lib/frameworks/index.js:371:42)
    at async deploy (/opt/homebrew/lib/node_modules/firebase-tools/lib/deploy/index.js:57:13)
[error] 
[error] Error: An unexpected error has occurred.
